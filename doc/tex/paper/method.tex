
\fitter\ is a unique QCD fit platform that provides  many options to the user to perform a quantitative assessment of impact of new data or new theoretical prediction. The quest on nailing down the uncertainties on PDFs have lead, on one hand, to highly precise measurements that are in need of careful handling of all provided sources of uncertainties, and on the other hand to numerous software packages that provide higher order calculations in QCD to match the precision of data.

The methodology employed by \fitter\  relies on a flexible and modular
framework that allows for independent integration of the state-of-the-art techniques, 
either related to the inclusion of a new theoretical calculation, or to a new approaches to treat uncertainties.

In this section we list various types of functional forms used to parametrise PDFs, different definitions for  $\chi^2$ evaluation in extracting the PDF parameters which account for correlated and uncorrelated sources of experimental (or theoretical) uncertainties available in \fitter\. 
In addition, the reweighting method - an alternative approach to a complete QCD fit, available in the \fitter\ is also described in this section. It can provide for an estimate of an impact of new data, as advocated 
alreay by the NNPDF collaboration \cite{Ball:2011gg,Ball:2010gb}.
The method has been extended to work not only on the replica method, 
but also on the eigenvectors (as introduced by MSTW group \cite{Watt:2012tq}).

Due to the iterative procedure in the $\chi^2$ minimisation process, a fast performance in calculating the 
theoretical prediction for each data point is an important factor for a feasible QCD fit.
In \fitter\ this is achieved by optimising the time of calculations using and incorporating innovative techniques such as cache option, fast evolution kernels, grid techniques making the platform a practical engine for iterative usage.


\subsection{Functional Forms for PDF parametrisation}
The PDFs are parametrised at the starting scale bellow the charm mass threshold, chosen by the user. Various functional forms can be tested using desired number of free parameters to be extracted through the fit:
\begin{description}
\item \bf {Standard Polynomials:} \rm
The term standard is understood to refer to a simple polynomial 
that interpolates between the low and high $x$ regions:
\begin{equation}
 xf(x) = A x^{B} (1-x)^{C} P_i(x),
\label{eqn:pdf_std}
\end{equation}
Standard forms are commonly used by PDF groups.
The parametrised PDFs at HERA are the valence distributions
 $xu_v$ and  $xd_v$,  the gluon distribution $xg$, and the $u$-type and $d$-type sea 
$x\bar{U}$, $x\bar{D}$, where $x\bar{U} = x\bar{u}$, 
$x\bar{D} = x\bar{d} +x\bar{s}$. 
The $P_i(x)$ for the HERAPDF style takes the simple form of $(1 + D x + E x^2)$ with additional constraints due to flavour decomposition insensitivity for $q\bar{s}$ fromother light sea quark contributions. 
For the CTEQ style, $P_i(x)$ takes te form of $e^{a_3x} (1 + e^{a_4} x + e^{a_5} x^2)$.


\item \bf {Log-Normal Distributions:} \rm
A bi-log-normal distribution to parametrise the $x$ dependence of the PDFs is available in \fitter\ .
%parton distribution function of the proton.
This parametrisation is motivated by  multiparticle statistics.
The following functional form can be used:
%\begin{center}
\begin{equation}
xf(x)=x^{p-b\log(x)}(1-x)^{q-\log(1-x)}.
\end{equation}
%\end{center}
This function can be regarded as a generalisation of standard functional form described above. In order to satisfy the QCD sum rules this parametric form requires numerical integration.

\item \bf {Chebyshev Polynomials:} \rm

A flexible Chebyshev polynomial based parametrisation can be used for the gluon and sea densities. The polynomials
use $\log x$ as an argument to emphasize the low $x$ behavior. 
The parametrisation is valid for $x>x_{min} = 1.7\times 10^{-5}$. The PDFs are multiplied
by $1-x$ to ensure that they vanish as $x\to 1$. The resulting parametric form is 
\begin{eqnarray}
x g(x) &=& A_g \left(1-x\right) \sum_{i=0}^{N_g-1} A_{g_i} T_i \left(-\frac{\textstyle 2\log x - \log x_{min} } {\textstyle \log x_{min} } \right)\,, \label{eq:glu} \\
x S(x) &=& \left(1-x\right) \sum_{i=0}^{N_S-1} A_{S_i} T_i \left(-\frac{\textstyle 2\log x - \log x_{min} } {\textstyle \log x_{min} } \right)\,. \label{eq:sea} 
\end{eqnarray}
Here the sum over $i$ runs up to $N_{g,S}=15$ order Chebyshev polynomials of the first type $T_i$ for
the gluon, $g$, and sea-quark, $S$, density, respectively. 
The normalisation $A_g$ is given by the momentum sum rule.

The advantages of this parametrisation are that the momentum sum rule can be evaluated analytically 
and that for $N \ge 5$ the fit qulaity is already similar
to a standard Regge-inspired parametrisation with a similar number of parameters.



\end{description}

\subsection{Chisquare representation}

The PDF parameters are extracted through the $\chi^2$ minimization method by 
employing MINUIT package linked to HERAFitter. There are various forms to represent the $\chi^2$ form, i.e. covariance matrix or decomposed into nuisance parameters. In addition, there are various methods in dealing with the correlated systematic (or statistical) uncertainties.
HERAFitter is prviding both options.

\subsubsection{Covariance Matrix Representation}

In the case of off-diagonal statistical uncertainties, the $\chi^2$ function
is
%\begin{equation} 
\begin{align} 
 \label{eq:chi2gen}
    \chi^2_{\rm exp} (\boldsymbol{m},\boldsymbol{b}) = \sum_{ij} 
         \left ( m^i - \sum_l \Gamma^i_l(m^i)b_l - \mu^i \right) C^{-1}_{{\rm stat.}~ij}(m^i,m^j) \nonumber \\
     \left(  m^j - \sum_l \Gamma^j_l(m^j)b_l - \mu^j \right) +  \sum_l b^2_l.
\end{align}
%\end{equation}
Here the scaling properties of the correlated systematic uncertainties 
$\Gamma^i_j$ and
of the covariance matrix $C_{{\rm stat.}~ij}$ are expressed as a dependence
on $m_i$ and the dependence of $\delta_{\rm stat}$ on $b_j$ is ignored.

\subsubsection{Nuisance Parameters Representation}

%
\begin{align} 
    \chi^2_{\rm exp}\left(\boldsymbol{m},\boldsymbol{b}\right) =  
%~~~=
 \sum_i \frac{\left[m^i - \sum_j \gamma^i_j m^i b_j  - {\mu^i} \right]^2}
{ \textstyle \delta^2_{i,{\rm stat}}\mu^i \left(m^i -  \sum_j \gamma^i_j m^i b_j\right)
  + \left(\delta_{i,{\rm uncor}}\,  m^i\right)^2} \nonumber \\
  + \sum_j b^2_j.
\label{eq:aven}
\end{align}
%
Here ${\mu^i}$ is the  measured central value  at a point $i$ 
with  relative statistical $\delta_{i,stat}$ 
and relative uncorrelated systematic uncertainty $\delta_{i,unc}$.
Further, 
%$\beta_j$ denotes a nuisance parameter for
% a correlated systematic error  source of type $j$ with an uncertainty while
$\gamma^i_j$ 
quantifies the sensitivity of the
measurement ${\mu^i}$ at the point $i$ to the systematic source $j$. 
The function $\chi^2_{\rm exp}$ depends on the set of
underlying physical quantities $m^i$ 
(denoted as the vector $\boldsymbol{m}$) and 
 the set of systematic uncertainties $b_j$ ($\boldsymbol{b}$).
This definition of the $\chi^2$ function takes into account that
systematic uncertainties are proportional to the central values 
(multiplicative errors), whereas the statistical errors scale 
with the square roots of the expected number of events. 


\subsection{Treatment of Experimental Uncertainties}

HERAFitter provides three methods in assessing the experimental uncertainties on PDFs: Hessian method, Offset Method, Monte Carlo method.
\begin{description}
\item \bf{Hessian method}
\item \bf{Offset  method}
\item \bf{Monte Carlo method}
\end{description}


\subsection{Treatment of Theoretical Input Parameters}

The results of a QCD fit depends not only on the input data but also on the 
input theoretical ansatz, which is also uncertain. Nowadays, the modern PDFs 
try to address the impact of this ansatz on the resulting PDFs by assessing an 
uncertainty on the choice of the initial parameter, such as mass of charm $m_c$, mass of the bottom quarks $m_b$. Another important input is the choice of the functional form for the PDFs at the starting scale. 
For this, HERAFitter provides a series of choices ranging from simple functional forms to more complex forms such as Chebyshev Polynomials with larger flexibility. Larger flexibility usually requires some regularisation methods in order for the results to be physical.




\subsection{Performance Optimisation}

The above mentioned features make HERAFitter a powerful project that encapsulates state of the art developments from struggles on reaching atmost experimental precision to the state of the art theory developments. 



